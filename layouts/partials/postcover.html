<figure class="post-cover">
  {{ $coverUrl := .Params.Cover }}
  {{ if hasPrefix .Params.Cover "/" }}
    {{/* Absolute path - use as-is */}}
  {{ else if $.Site.Params.UseRelativeCover }}
    {{ $coverUrl = printf "%s%s" .Permalink .Params.Cover }}
  {{ else }}
    {{ $coverUrl = .Params.Cover | absURL }}
  {{ end }}
  <img src="{{ $coverUrl }}" alt="{{ .Params.CoverAlt | plainify | default .Title }}"/>

  {{ if .Params.CoverCaption }}
    <figcaption class="center">{{ .Params.CoverCaption | markdownify }}</figcaption>
  {{ end }}
</figure>
